{"version":3,"sources":["webpack:///./src/app/actions/collection.ts","webpack:///./src/app/services/google-books.ts","webpack:///./src/app/util.ts","webpack:///./src/app/actions/layout.ts","webpack:///./src/app/containers/collection-page.ts","webpack:///./src/app/containers/details/details.component.ts","webpack:///./src/app/containers/find-book-page.ts","webpack:///./src/app/containers/not-found-page.ts","webpack:///./src/app/containers/resume/resume.component.ts","webpack:///./src/app/containers/view-book-page.ts","webpack:///./src/app/guards/book-exists.ts","webpack:///./src/environments/environment.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/book-authors.ts","webpack:///./src/app/components/book-detail.ts","webpack:///./src/app/components/book-preview-list.ts","webpack:///./src/app/components/book-preview.ts","webpack:///./src/app/components/book-search.ts","webpack:///./src/app/components/index.ts","webpack:///./src/app/components/layout.ts","webpack:///./src/app/components/nav-item.ts","webpack:///./src/app/components/sidenav.ts","webpack:///./src/app/components/toolbar.ts","webpack:///./src/app/containers/app.ts","webpack:///./src/app/containers/selected-book-page.ts","webpack:///./src/app/db.ts","webpack:///./src/app/effects/book.ts","webpack:///./src/app/effects/collection.ts","webpack:///./src/app/pipes/add-commas.ts","webpack:///./src/app/pipes/ellipsis.ts","webpack:///./src/app/pipes/index.ts","webpack:///./src/app/reducers/books.ts","webpack:///./src/app/reducers/collection.ts","webpack:///./src/app/reducers/layout.ts","webpack:///./src/app/reducers/search.ts","webpack:///./src/app/routes.ts","webpack:///./src/polyfills.ts","webpack:///./src/app/containers/details/details.component.css","webpack:///./src/app/containers/resume/resume.component.css","webpack:///./src/app/containers/details/details.component.html","webpack:///./src/app/containers/resume/resume.component.html","webpack:///./src/app/actions/book.ts","webpack:///./src/app/reducers/index.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["import { Action } from '@ngrx/store';\r\nimport { Book } from '../models/book';\r\nimport { type } from '../util';\r\n\r\n\r\nexport const ActionTypes = {\r\n  ADD_BOOK:             type('[Collection] Add Book'),\r\n  ADD_BOOK_SUCCESS:     type('[Collection] Add Book Success'),\r\n  ADD_BOOK_FAIL:        type('[Collection] Add Book Fail'),\r\n  REMOVE_BOOK:          type('[Collection] Remove Book'),\r\n  REMOVE_BOOK_SUCCESS:  type('[Collection] Remove Book Success'),\r\n  REMOVE_BOOK_FAIL:     type('[Collection] Remove Book Fail'),\r\n  LOAD:                 type('[Collection] Load'),\r\n  LOAD_SUCCESS:         type('[Collection] Load Success'),\r\n  LOAD_FAIL:            type('[Collection] Load Fail'),\r\n};\r\n\r\n\r\n/**\r\n * Add Book to Collection Actions\r\n */\r\nexport class AddBookAction implements Action {\r\n  type = ActionTypes.ADD_BOOK;\r\n\r\n  constructor(public payload: Book) { }\r\n}\r\n\r\nexport class AddBookSuccessAction implements Action {\r\n  type = ActionTypes.ADD_BOOK_SUCCESS;\r\n\r\n  constructor(public payload: Book) { }\r\n}\r\n\r\nexport class AddBookFailAction implements Action {\r\n  type = ActionTypes.ADD_BOOK_FAIL;\r\n\r\n  constructor(public payload: Book) { }\r\n}\r\n\r\n\r\n/**\r\n * Remove Book from Collection Actions\r\n */\r\nexport class RemoveBookAction implements Action {\r\n  type = ActionTypes.REMOVE_BOOK;\r\n\r\n  constructor(public payload: Book) { }\r\n}\r\n\r\nexport class RemoveBookSuccessAction implements Action {\r\n  type = ActionTypes.REMOVE_BOOK_SUCCESS;\r\n\r\n  constructor(public payload: Book) { }\r\n}\r\n\r\nexport class RemoveBookFailAction implements Action {\r\n  type = ActionTypes.REMOVE_BOOK_FAIL;\r\n\r\n  constructor(public payload: Book) { }\r\n}\r\n\r\n/**\r\n * Load Collection Actions\r\n */\r\nexport class LoadAction implements Action {\r\n  type = ActionTypes.LOAD;\r\n\r\n  constructor() { }\r\n}\r\n\r\nexport class LoadSuccessAction implements Action {\r\n  type = ActionTypes.LOAD_SUCCESS;\r\n\r\n  constructor(public payload: Book[]) { }\r\n}\r\n\r\nexport class LoadFailAction implements Action {\r\n  type = ActionTypes.LOAD_FAIL;\r\n\r\n  constructor(public payload: any) { }\r\n}\r\n\r\n\r\nexport type Actions\r\n  = AddBookAction\r\n  | AddBookSuccessAction\r\n  | AddBookFailAction\r\n  | RemoveBookAction\r\n  | RemoveBookSuccessAction\r\n  | RemoveBookFailAction\r\n  | LoadAction\r\n  | LoadSuccessAction\r\n  | LoadFailAction\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/actions/collection.ts","import 'rxjs/add/operator/map';\r\nimport { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Book } from '../models/book';\r\n\r\n\r\n@Injectable()\r\nexport class GoogleBooksService {\r\n  private API_PATH: string = 'https://www.googleapis.com/books/v1/volumes';\r\n\r\n  constructor(private http: Http) {}\r\n\r\n  searchBooks(queryTitle: string): Observable<Book[]> {\r\n    return this.http.get(`${this.API_PATH}?q=${queryTitle}`)\r\n      .map(res => res.json().items || []);\r\n  }\r\n\r\n  retrieveBook(volumeId: string): Observable<Book> {\r\n    return this.http.get(`${this.API_PATH}/${volumeId}`)\r\n      .map(res => res.json());\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/google-books.ts","/**\r\n * This function coerces a string into a string literal type.\r\n * Using tagged union types in TypeScript 2.0, this enables\r\n * powerful typechecking of our reducers.\r\n * \r\n * Since every action label passes through this function it\r\n * is a good place to ensure all of our action labels\r\n * are unique.\r\n */\r\n\r\nlet typeCache: { [label: string]: boolean } = {};\r\nexport function type<T>(label: T | ''): T {\r\n  if (typeCache[<string>label]) {\r\n    throw new Error(`Action type \"${label}\" is not unique\"`);\r\n  }\r\n\r\n  typeCache[<string>label] = true;\r\n\r\n  return <T>label;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/util.ts","import { Action } from '@ngrx/store';\r\nimport { type } from '../util';\r\n\r\nexport const ActionTypes = {\r\n  OPEN_SIDENAV:   type('[Layout] Open Sidenav'),\r\n  CLOSE_SIDENAV:  type('[Layout] Close Sidenav')\r\n};\r\n\r\n\r\nexport class OpenSidenavAction implements Action {\r\n  type = ActionTypes.OPEN_SIDENAV;\r\n}\r\n\r\nexport class CloseSidenavAction implements Action {\r\n  type = ActionTypes.CLOSE_SIDENAV;\r\n}\r\n\r\n\r\nexport type Actions\r\n  = OpenSidenavAction\r\n  | CloseSidenavAction;\n\n\n// WEBPACK FOOTER //\n// ./src/app/actions/layout.ts","import 'rxjs/add/operator/let';\r\nimport { Component, ChangeDetectionStrategy } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport * as fromRoot from '../reducers';\r\nimport { Book } from '../models/book';\r\n\r\n\r\n@Component({\r\n  selector: 'bc-collection-page',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <md-card>\r\n      <md-card-title>My Collection</md-card-title>\r\n    </md-card>\r\n\r\n    <bc-book-preview-list [books]=\"books$ | async\"></bc-book-preview-list>\r\n  `,\r\n  /**\r\n   * Container components are permitted to have just enough styles\r\n   * to bring the view together. If the number of styles grow,\r\n   * consider breaking them out into presentational \r\n   * components.\r\n   */\r\n  styles: [`\r\n    md-card-title {\r\n      display: flex;\r\n      justify-content: center;\r\n    }\r\n  `]\r\n})\r\nexport class CollectionPageComponent {\r\n  books$: Observable<Book[]>;\r\n\r\n  constructor(store: Store<fromRoot.State>) {\r\n    this.books$ = store.select(fromRoot.getBookCollection);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/containers/collection-page.ts","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-details',\n  templateUrl: './details.component.html',\n  styleUrls: ['./details.component.css']\n})\nexport class DetailsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/containers/details/details.component.ts","import 'rxjs/add/operator/let';\r\nimport 'rxjs/add/operator/take';\r\nimport { Component, ChangeDetectionStrategy } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport * as fromRoot from '../reducers';\r\nimport * as book from '../actions/book';\r\nimport { Book } from '../models/book';\r\n\r\n\r\n@Component({\r\n  selector: 'bc-find-book-page',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <bc-book-search [query]=\"searchQuery$ | async\" [searching]=\"loading$ | async\" (search)=\"search($event)\"></bc-book-search>\r\n    <bc-book-preview-list [books]=\"books$ | async\"></bc-book-preview-list>\r\n  `\r\n})\r\nexport class FindBookPageComponent {\r\n  searchQuery$: Observable<string>;\r\n  books$: Observable<Book[]>;\r\n  loading$: Observable<boolean>;\r\n\r\n  constructor(private store: Store<fromRoot.State>) {\r\n    this.searchQuery$ = store.select(fromRoot.getSearchQuery).take(1);\r\n    this.books$ = store.select(fromRoot.getSearchResults);\r\n    this.loading$ = store.select(fromRoot.getSearchLoading);\r\n  }\r\n\r\n  search(query: string) {\r\n    this.store.dispatch(new book.SearchAction(query));\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/containers/find-book-page.ts","import { Component, ChangeDetectionStrategy } from '@angular/core';\r\n\r\n\r\n@Component({\r\n  selector: 'bc-not-found-page',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <md-card>\r\n      <md-card-title>404: Not Found</md-card-title>\r\n      <md-card-content>\r\n        <p>Hey! It looks like this page doesn't exist yet.</p>\r\n      </md-card-content>\r\n      <md-card-actions>\r\n        <button md-raised-button color=\"primary\" routerLink=\"/\">Take Me Home</button>\r\n      </md-card-actions>\r\n    </md-card>\r\n  `,\r\n  styles: [`\r\n    :host {\r\n      text-align: center;\r\n    }\r\n  `]\r\n})\r\nexport class NotFoundPageComponent { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/containers/not-found-page.ts","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-resume',\n  templateUrl: './resume.component.html',\n  styleUrls: ['./resume.component.css']\n})\nexport class ResumeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/containers/resume/resume.component.ts","import '@ngrx/core/add/operator/select';\r\nimport 'rxjs/add/operator/map';\r\nimport { Component, OnDestroy, ChangeDetectionStrategy } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport * as fromRoot from '../reducers';\r\nimport * as book from '../actions/book';\r\n\r\n/**\r\n * Note: Container components are also reusable. Whether or not \r\n * a component is a presentation component or a container\r\n * component is an implementation detail.\r\n * \r\n * The View Book Page's responsibility is to map router params\r\n * to a 'Select' book action. Actually showing the selected\r\n * book remains a responsibility of the \r\n * SelectedBookPageComponent\r\n */\r\n@Component({\r\n  selector: 'bc-view-book-page',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <bc-selected-book-page></bc-selected-book-page>\r\n  `\r\n})\r\nexport class ViewBookPageComponent implements OnDestroy {\r\n  actionsSubscription: Subscription;\r\n\r\n  constructor(private store: Store<fromRoot.State>, route: ActivatedRoute) {\r\n    this.actionsSubscription = route.params\r\n      .select<string>('id')\r\n      .map(id => new book.SelectAction(id))\r\n      .subscribe(store);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.actionsSubscription.unsubscribe();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/containers/view-book-page.ts","import 'rxjs/add/operator/take';\r\nimport 'rxjs/add/operator/filter';\r\nimport 'rxjs/add/operator/do';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/switchMap';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/let';\r\nimport { Injectable } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Router, CanActivate, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { of } from 'rxjs/observable/of';\r\n\r\nimport { GoogleBooksService } from '../services/google-books';\r\nimport * as fromRoot from '../reducers';\r\nimport * as book from '../actions/book';\r\n\r\n\r\n/**\r\n * Guards are hooks into the route resolution process, providing an opportunity\r\n * to inform the router's navigation process whether the route should continue\r\n * to activate this route. Guards must return an observable of true or false.\r\n */\r\n@Injectable()\r\nexport class BookExistsGuard implements CanActivate {\r\n  constructor(\r\n    private store: Store<fromRoot.State>,\r\n    private googleBooks: GoogleBooksService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  /**\r\n   * This method creates an observable that waits for the `loaded` property\r\n   * of the collection state to turn `true`, emitting one time once loading\r\n   * has finished.\r\n   */\r\n  waitForCollectionToLoad(): Observable<boolean> {\r\n    return this.store.select(fromRoot.getCollectionLoaded)\r\n      .filter(loaded => loaded)\r\n      .take(1);\r\n  }\r\n\r\n  /**\r\n   * This method checks if a book with the given ID is already registered\r\n   * in the Store\r\n   */\r\n  hasBookInStore(id: string): Observable<boolean> {\r\n    return this.store.select(fromRoot.getBookEntities)\r\n      .map(entities => !!entities[id])\r\n      .take(1);\r\n  }\r\n\r\n  /**\r\n   * This method loads a book with the given ID from the API and caches\r\n   * it in the store, returning `true` or `false` if it was found.\r\n   */\r\n  hasBookInApi(id: string): Observable<boolean> {\r\n    return this.googleBooks.retrieveBook(id)\r\n      .map(bookEntity => new book.LoadAction(bookEntity))\r\n      .do((action: book.LoadAction) => this.store.dispatch(action))\r\n      .map(book => !!book)\r\n      .catch(() => {\r\n        this.router.navigate(['/404']);\r\n        return of(false);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * `hasBook` composes `hasBookInStore` and `hasBookInApi`. It first checks\r\n   * if the book is in store, and if not it then checks if it is in the\r\n   * API.\r\n   */\r\n  hasBook(id: string): Observable<boolean> {\r\n    return this.hasBookInStore(id)\r\n      .switchMap(inStore => {\r\n        if (inStore) {\r\n          return of(inStore);\r\n        }\r\n\r\n        return this.hasBookInApi(id);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * This is the actual method the router will call when our guard is run.\r\n   *\r\n   * Our guard waits for the collection to load, then it checks if we need\r\n   * to request a book from the API or if we already have it in our cache.\r\n   * If it finds it in the cache or in the API, it returns an Observable\r\n   * of `true` and the route is rendered successfully.\r\n   *\r\n   * If it was unable to find it in our cache or in the API, this guard\r\n   * will return an Observable of `false`, causing the router to move\r\n   * on to the next candidate route. In this case, it will move on\r\n   * to the 404 page.\r\n   */\r\n  canActivate(route: ActivatedRouteSnapshot): Observable<boolean> {\r\n    return this.waitForCollectionToLoad()\r\n      .switchMap(() => this.hasBook(route.params['id']));\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/guards/book-exists.ts","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 535;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 535\n// module chunks = 0","import './polyfills.ts';\r\n\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport { enableProdMode } from '@angular/core';\r\nimport { environment } from './environments/environment';\r\nimport { AppModule } from './app/app.module';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { NgModule, } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { EffectsModule } from '@ngrx/effects';\r\nimport { DBModule } from '@ngrx/db';\r\nimport { RouterStoreModule } from '@ngrx/router-store';\r\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\r\nimport { MaterialModule } from '@angular/material';\r\n\r\nimport { ComponentsModule } from './components';\r\nimport { BookEffects } from './effects/book';\r\nimport { CollectionEffects } from './effects/collection';\r\nimport { BookExistsGuard } from './guards/book-exists';\r\n\r\nimport { AppComponent } from './containers/app';\r\nimport { FindBookPageComponent } from './containers/find-book-page';\r\nimport { ViewBookPageComponent } from './containers/view-book-page';\r\nimport { ResumeComponent } from './containers/resume/resume.component';\r\nimport { DetailsComponent } from './containers/details/details.component';\r\nimport { SelectedBookPageComponent } from './containers/selected-book-page';\r\nimport { CollectionPageComponent } from './containers/collection-page';\r\nimport { NotFoundPageComponent } from './containers/not-found-page';\r\n\r\nimport { GoogleBooksService } from './services/google-books';\r\n\r\nimport { routes } from './routes';\r\nimport { reducer } from './reducers';\r\nimport { schema } from './db';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    BrowserModule,\r\n    MaterialModule.forRoot(),\r\n    ComponentsModule,\r\n    RouterModule.forRoot(routes, { useHash: true }),\r\n\r\n    /**\r\n     * StoreModule.provideStore is imported once in the root module, accepting a reducer\r\n     * function or object map of reducer functions. If passed an object of\r\n     * reducers, combineReducers will be run creating your application\r\n     * meta-reducer. This returns all providers for an @ngrx/store\r\n     * based application.\r\n     */\r\n    StoreModule.provideStore(reducer),\r\n\r\n    /**\r\n     * @ngrx/router-store keeps router state up-to-date in the store and uses\r\n     * the store as the single source of truth for the router's state.\r\n     */\r\n    RouterStoreModule.connectRouter(),\r\n\r\n    /**\r\n     * Store devtools instrument the store retaining past versions of state\r\n     * and recalculating new states. This enables powerful time-travel\r\n     * debugging.\r\n     * \r\n     * To use the debugger, install the Redux Devtools extension for either\r\n     * Chrome or Firefox\r\n     * \r\n     * See: https://github.com/zalmoxisus/redux-devtools-extension\r\n     */\r\n    StoreDevtoolsModule.instrumentOnlyWithExtension(),\r\n\r\n    /**\r\n     * EffectsModule.run() sets up the effects class to be initialized\r\n     * immediately when the application starts.\r\n     *\r\n     * See: https://github.com/ngrx/effects/blob/master/docs/api.md#run\r\n     */\r\n    EffectsModule.run(BookEffects),\r\n    EffectsModule.run(CollectionEffects),\r\n\r\n    /**\r\n     * `provideDB` sets up @ngrx/db with the provided schema and makes the Database\r\n     * service available.\r\n     */\r\n    DBModule.provideDB(schema),\r\n  ],\r\n  declarations: [\r\n    AppComponent,\r\n    FindBookPageComponent,\r\n    ResumeComponent,\r\n    DetailsComponent,\r\n    SelectedBookPageComponent,\r\n    ViewBookPageComponent,\r\n    CollectionPageComponent,\r\n    NotFoundPageComponent,\r\n    ResumeComponent,\r\n    DetailsComponent\r\n  ],\r\n  providers: [\r\n    BookExistsGuard,\r\n    GoogleBooksService\r\n  ],\r\n  bootstrap: [\r\n    AppComponent\r\n  ]\r\n})\r\nexport class AppModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, Input } from '@angular/core';\r\n\r\nimport { Book } from '../models/book';\r\n\r\n\r\n@Component({\r\n  selector: 'bc-book-authors',\r\n  template: `\r\n    <h5 md-subheader>Written By:</h5>\r\n    <span>\r\n      {{ authors | bcAddCommas }}\r\n    </span>\r\n  `,\r\n  styles: [`\r\n    h5 {\r\n      margin-bottom: 5px;\r\n    }\r\n  `]\r\n})\r\nexport class BookAuthorsComponent {\r\n  @Input() book: Book;\r\n\r\n  get authors() {\r\n    return this.book.volumeInfo.authors;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/book-authors.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Book } from '../models/book';\r\n\r\n\r\n@Component({\r\n  selector: 'bc-book-detail',\r\n  template: `\r\n    <md-card *ngIf=\"book\">\r\n      <md-card-title-group>\r\n        <md-card-title>{{ title }}</md-card-title>\r\n        <md-card-subtitle *ngIf=\"subtitle\">{{ subtitle }}</md-card-subtitle>\r\n        <img md-card-sm-image *ngIf=\"thumbnail\" [src]=\"thumbnail\"/>\r\n      </md-card-title-group>\r\n      <md-card-content>\r\n        <p [innerHtml]=\"description\"></p>\r\n      </md-card-content>\r\n      <md-card-footer class=\"footer\">\r\n        <bc-book-authors [book]=\"book\"></bc-book-authors>\r\n      </md-card-footer>\r\n      <md-card-actions align=\"end\">\r\n        <button md-raised-button color=\"warn\" *ngIf=\"inCollection\" (click)=\"remove.emit(book)\">\r\n        Remove Book from Collection\r\n        </button>\r\n\r\n        <button md-raised-button color=\"primary\" *ngIf=\"!inCollection\" (click)=\"add.emit(book)\">\r\n        Add Book to Collection\r\n        </button>\r\n      </md-card-actions>\r\n    </md-card>\r\n\r\n  `,\r\n  styles: [`\r\n    :host {\r\n      display: flex;\r\n      justify-content: center;\r\n      margin: 75px 0;\r\n    }\r\n    md-card {\r\n      max-width: 600px;\r\n    }\r\n    md-card-title {\r\n      margin-left: 10px;\r\n    }\r\n    img {\r\n      width: 60px;\r\n      min-width: 60px;\r\n      margin-left: 5px;\r\n    }\r\n    md-card-content {\r\n      margin-top: 15px;\r\n      margin-bottom: 125px;\r\n    }\r\n    md-card-actions {\r\n      margin-bottom: 0 !important;\r\n      margin-right: 0;\r\n    }\r\n    md-card-footer {\r\n      padding: 0 25px 25px;\r\n    }\r\n  `]\r\n})\r\nexport class BookDetailComponent {\r\n  /**\r\n   * Presentational components receieve data through @Input() and communicate events\r\n   * through @Output() but generally maintain no internal state of their\r\n   * own. All decisions are delegated to 'container', or 'smart'\r\n   * components before data updates flow back down.\r\n   *\r\n   * More on 'smart' and 'presentational' components: https://gist.github.com/btroncone/a6e4347326749f938510#utilizing-container-components\r\n   */\r\n  @Input() book: Book;\r\n  @Input() inCollection: boolean;\r\n  @Output() add = new EventEmitter<Book>();\r\n  @Output() remove = new EventEmitter<Book>();\r\n\r\n\r\n  /**\r\n   * Tip: Utilize getters to keep templates clean\r\n   */\r\n  get id() {\r\n    return this.book.id;\r\n  }\r\n\r\n  get title() {\r\n    return this.book.volumeInfo.title;\r\n  }\r\n\r\n  get subtitle() {\r\n    return this.book.volumeInfo.subtitle;\r\n  }\r\n\r\n  get description() {\r\n    return this.book.volumeInfo.description;\r\n  }\r\n\r\n  get thumbnail() {\r\n    return this.book.volumeInfo.imageLinks.smallThumbnail;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/book-detail.ts","import { Component, Input } from '@angular/core';\r\nimport { Book } from '../models/book';\r\n\r\n@Component({\r\n  selector: 'bc-book-preview-list',\r\n  template: `\r\n    <bc-book-preview *ngFor=\"let book of books\" [book]=\"book\"></bc-book-preview>\r\n  `,\r\n  styles: [`\r\n    :host {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      justify-content: center;\r\n    }\r\n  `]\r\n})\r\nexport class BookPreviewListComponent {\r\n  @Input() books: Book[];\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/book-preview-list.ts","import { Component, Input } from '@angular/core';\r\nimport { Book } from '../models/book';\r\n\r\n\r\n@Component({\r\n  selector: 'bc-book-preview',\r\n  template: `\r\n    <a [routerLink]=\"['/book', id]\">\r\n      <md-card>\r\n        <md-card-title-group>\r\n          <img md-card-sm-image *ngIf=\"thumbnail\" [src]=\"thumbnail\"/>\r\n          <md-card-title>{{ title }}</md-card-title>\r\n          <md-card-subtitle *ngIf=\"subtitle\">{{ subtitle }}</md-card-subtitle>\r\n        </md-card-title-group>\r\n        <md-card-content>\r\n          <p *ngIf=\"description\">{{ description | bcEllipsis }}</p>\r\n        </md-card-content>\r\n        <md-card-footer>\r\n          <bc-book-authors [book]=\"book\"></bc-book-authors>\r\n        </md-card-footer>\r\n      </md-card>\r\n    </a>\r\n  `,\r\n  styles: [`\r\n    md-card {\r\n      width: 400px;\r\n      height: 300px;\r\n      margin: 15px;\r\n    }\r\n    md-card-title {\r\n      margin-right: 10px;\r\n    }\r\n    a {\r\n      color: inherit;\r\n      text-decoration: none;\r\n    }\r\n    img {\r\n      width: 60px;\r\n      min-width: 60px;\r\n      margin-left: 5px;\r\n    }\r\n    md-card-content {\r\n      margin-top: 15px;\r\n    }\r\n    span {\r\n      display: inline-block;\r\n      font-size: 13px;\r\n    }\r\n    md-card-footer {\r\n      padding: 0 25px 25px;\r\n    }\r\n  `]\r\n})\r\nexport class BookPreviewComponent {\r\n  @Input() book: Book;\r\n\r\n  get id() {\r\n    return this.book.id;\r\n  }\r\n\r\n  get title() {\r\n    return this.book.volumeInfo.title;\r\n  }\r\n\r\n  get subtitle() {\r\n    return this.book.volumeInfo.subtitle;\r\n  }\r\n\r\n  get description() {\r\n    return this.book.volumeInfo.description;\r\n  }\r\n\r\n  get thumbnail(): string | boolean {\r\n    if (this.book.volumeInfo.imageLinks) {\r\n      return this.book.volumeInfo.imageLinks.smallThumbnail;\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/book-preview.ts","import 'rxjs/add/operator/debounceTime';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/distinctUntilChanged';\r\nimport { Component, Output, Input, EventEmitter } from '@angular/core';\r\n\r\n\r\n@Component({\r\n  selector: 'bc-book-search',\r\n  template: `\r\n    <md-card>\r\n      <md-card-title>Find a Book</md-card-title>\r\n      <md-card-content>\r\n        <md-input placeholder=\"Search for a book\" [value]=\"query\" (keyup)=\"search.emit($event.target.value)\"></md-input>\r\n        <md-spinner [class.show]=\"searching\"></md-spinner>\r\n      </md-card-content>\r\n    </md-card>\r\n  `,\r\n  styles: [`\r\n    md-card-title,\r\n    md-card-content {\r\n      display: flex;\r\n      justify-content: center;\r\n    }\r\n\r\n    md-input {\r\n      width: 300px;\r\n    }\r\n\r\n    md-card-spinner {\r\n      padding-left: 60px; // Make room for the spinner\r\n    }\r\n\r\n    md-spinner {\r\n      width: 30px;\r\n      height: 30px;\r\n      position: relative;\r\n      top: 10px;\r\n      left: 10px;\r\n      opacity: 0.0;\r\n    }\r\n\r\n    md-spinner.show {\r\n      opacity: 1.0;\r\n    }\r\n  `]\r\n})\r\nexport class BookSearchComponent {\r\n  @Input() query: string = '';\r\n  @Input() searching = false;\r\n  @Output() search = new EventEmitter<string>();\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/book-search.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MaterialModule } from '@angular/material';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { BookAuthorsComponent } from './book-authors';\r\nimport { BookDetailComponent } from './book-detail';\r\nimport { BookPreviewComponent } from './book-preview';\r\nimport { BookPreviewListComponent } from './book-preview-list';\r\nimport { BookSearchComponent } from './book-search';\r\nimport { LayoutComponent } from './layout';\r\nimport { NavItemComponent } from './nav-item';\r\nimport { SidenavComponent } from './sidenav';\r\nimport { ToolbarComponent } from './toolbar';\r\n\r\nimport { PipesModule } from '../pipes';\r\n\r\n\r\nexport const COMPONENTS = [\r\n  BookAuthorsComponent,\r\n  BookDetailComponent,\r\n  BookPreviewComponent,\r\n  BookPreviewListComponent,\r\n  BookSearchComponent,\r\n  LayoutComponent,\r\n  NavItemComponent,\r\n  SidenavComponent,\r\n  ToolbarComponent,\r\n];\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MaterialModule,\r\n    RouterModule,\r\n    PipesModule,\r\n  ],\r\n  declarations: COMPONENTS,\r\n  exports: COMPONENTS\r\n})\r\nexport class ComponentsModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/index.ts","import { Component } from '@angular/core';\r\n\r\n\r\n@Component({\r\n  selector: 'portfolio-layout',\r\n  template: `\r\n    <md-sidenav-layout fullscreen>\r\n      <ng-content></ng-content>\r\n    </md-sidenav-layout>\r\n  `,\r\n  styles: [`\r\n    md-sidenav-layout {\r\n      background: rgba(0, 0, 0, 0.03);\r\n    }\r\n    \r\n    *, /deep/ * {\r\n      -webkit-font-smoothing: antialiased;\r\n      -moz-osx-font-smoothing: grayscale;\r\n    }\r\n  `]\r\n})\r\nexport class LayoutComponent { }\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/layout.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n\r\n@Component({\r\n  selector: 'portfolio-nav-item',\r\n  template: `\r\n    <a md-list-item [routerLink]=\"routerLink\" (click)=\"activate.emit()\">\r\n      <md-icon md-list-icon>{{ icon }}</md-icon>\r\n      <span md-line><ng-content></ng-content></span>\r\n      <span md-line class=\"secondary\">{{ hint }}</span>\r\n    </a>\r\n  `,\r\n  styles: [`\r\n    .secondary {\r\n      color: rgba(0, 0, 0, 0.54);\r\n    }\r\n  `]\r\n})\r\nexport class NavItemComponent {\r\n  @Input() icon: string = '';\r\n  @Input() hint: string = '';\r\n  @Input() routerLink: string | any[] = '/';\r\n  @Output() activate = new EventEmitter();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/nav-item.ts","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'portfolio-sidenav',\r\n  template: `\r\n    <md-sidenav [opened]=\"open\">\r\n      <md-nav-list>\r\n        <ng-content></ng-content>\r\n      </md-nav-list>\r\n    </md-sidenav>\r\n  `,\r\n  styles: [`\r\n    md-sidenav {\r\n      width: 300px;\r\n    }\r\n  `]\r\n})\r\nexport class SidenavComponent {\r\n  @Input() open = false;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/sidenav.ts","import { Component, Output, EventEmitter } from '@angular/core';\r\n\r\n\r\n@Component({\r\n  selector: 'portfolio-toolbar',\r\n  template: `\r\n    <md-toolbar color=\"primary\">\r\n      <button md-icon-button (click)=\"openMenu.emit()\">\r\n        <md-icon>menu</md-icon>\r\n      </button>\r\n      <ng-content></ng-content>\r\n    </md-toolbar>\r\n  `\r\n})\r\nexport class ToolbarComponent {\r\n  @Output() openMenu = new EventEmitter();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/toolbar.ts","import 'rxjs/add/operator/let';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Component, ChangeDetectionStrategy } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport * as fromRoot from '../reducers';\r\nimport * as layout from '../actions/layout';\r\n\r\n\r\n@Component({\r\n  selector: 'project-collection-app',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <portfolio-layout>\r\n      <portfolio-sidenav [open]=\"showSidenav$ | async\">\r\n        <portfolio-nav-item (activate)=\"closeSidenav()\" routerLink=\"/\" icon=\"book\" hint=\"View my works\">\r\n          My Work\r\n        </portfolio-nav-item>\r\n        <portfolio-nav-item (activate)=\"closeSidenav()\" routerLink=\"/project/find\" icon=\"search\" hint=\"Find my projects\">\r\n          Browse Projects\r\n        </portfolio-nav-item>\r\n        <portfolio-nav-item (activate)=\"closeSidenav()\" routerLink=\"/resume\" icon=\"search\" hint=\"Find my projects\">\r\n          Resume\r\n        </portfolio-nav-item>\r\n        <portfolio-nav-item (activate)=\"closeSidenav()\" routerLink=\"/details\" icon=\"search\" hint=\"Find my projects\">\r\n          This portfolio\r\n        </portfolio-nav-item>\r\n      </portfolio-sidenav>\r\n      <portfolio-toolbar (openMenu)=\"openSidenav()\">\r\n        Eric Alter\r\n      </portfolio-toolbar>\r\n\r\n      <router-outlet></router-outlet>\r\n    </portfolio-layout>\r\n  `\r\n})\r\nexport class AppComponent {\r\n  showSidenav$: Observable<boolean>;\r\n\r\n  constructor(private store: Store<fromRoot.State>) {\r\n    /**\r\n     * Selectors can be applied with the `select` operator which passes the state\r\n     * tree to the provided selector\r\n     */\r\n    this.showSidenav$ = this.store.select(fromRoot.getShowSidenav);\r\n  }\r\n\r\n  closeSidenav() {\r\n    /**\r\n     * All state updates are handled through dispatched actions in 'container'\r\n     * components. This provides a clear, reproducible history of state\r\n     * updates and user interaction through the life of our \r\n     * application.\r\n     */\r\n    this.store.dispatch(new layout.CloseSidenavAction());\r\n  }\r\n\r\n  openSidenav() {\r\n    this.store.dispatch(new layout.OpenSidenavAction());\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/containers/app.ts","import { Component, ChangeDetectionStrategy } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport * as fromRoot from '../reducers';\r\nimport * as collection from '../actions/collection';\r\nimport { Book } from '../models/book';\r\n\r\n\r\n@Component({\r\n  selector: 'bc-selected-book-page',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: `\r\n    <bc-book-detail\r\n      [book]=\"book$ | async\"\r\n      [inCollection]=\"isSelectedBookInCollection$ | async\"\r\n      (add)=\"addToCollection($event)\"\r\n      (remove)=\"removeFromCollection($event)\">\r\n    </bc-book-detail>\r\n  `\r\n})\r\nexport class SelectedBookPageComponent {\r\n  book$: Observable<Book>;\r\n  isSelectedBookInCollection$: Observable<boolean>;\r\n\r\n  constructor(private store: Store<fromRoot.State>) {\r\n    this.book$ = store.select(fromRoot.getSelectedBook);\r\n    this.isSelectedBookInCollection$ = store.select(fromRoot.isSelectedBookInCollection);\r\n  }\r\n\r\n  addToCollection(book: Book) {\r\n    this.store.dispatch(new collection.AddBookAction(book));\r\n  }\r\n\r\n  removeFromCollection(book: Book) {\r\n    this.store.dispatch(new collection.RemoveBookAction(book));\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/containers/selected-book-page.ts","import { DBSchema } from '@ngrx/db';\r\n\r\n\r\n/**\r\n * ngrx/db uses a simple schema config object to initialize stores in IndexedDB.\r\n */\r\nexport const schema: DBSchema = {\r\n  version: 1,\r\n  name: 'books_app',\r\n  stores: {\r\n    books: {\r\n      autoIncrement: true,\r\n      primaryKey: 'id'\r\n    }\r\n  }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/app/db.ts","import 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/switchMap';\r\nimport 'rxjs/add/operator/debounceTime';\r\nimport 'rxjs/add/operator/skip';\r\nimport 'rxjs/add/operator/takeUntil';\r\nimport { Injectable } from '@angular/core';\r\nimport { Effect, Actions } from '@ngrx/effects';\r\nimport { Action } from '@ngrx/store';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { empty } from 'rxjs/observable/empty';\r\nimport { of } from 'rxjs/observable/of';\r\n\r\nimport { GoogleBooksService } from '../services/google-books';\r\nimport * as book from '../actions/book';\r\n\r\n\r\n/**\r\n * Effects offer a way to isolate and easily test side-effects within your\r\n * application. StateUpdates is an observable of the latest state and\r\n * dispatched action. The `toPayload` helper function returns just\r\n * the payload of the currently dispatched action, useful in\r\n * instances where the current state is not necessary.\r\n *\r\n * If you are unfamiliar with the operators being used in these examples, please\r\n * check out the sources below:\r\n *\r\n * Official Docs: http://reactivex.io/rxjs/manual/overview.html#categories-of-operators\r\n * RxJS 5 Operators By Example: https://gist.github.com/btroncone/d6cf141d6f2c00dc6b35\r\n */\r\n\r\n@Injectable()\r\nexport class BookEffects {\r\n  constructor(private actions$: Actions, private googleBooks: GoogleBooksService) { }\r\n\r\n\r\n  @Effect()\r\n  search$: Observable<Action> = this.actions$\r\n    .ofType(book.ActionTypes.SEARCH)\r\n    .debounceTime(300)\r\n    .map((action: book.SearchAction) => action.payload)\r\n    .switchMap(query => {\r\n      if (query === '') {\r\n        return empty();\r\n      }\r\n\r\n      const nextSearch$ = this.actions$.ofType(book.ActionTypes.SEARCH).skip(1);\r\n\r\n      return this.googleBooks.searchBooks(query)\r\n        .takeUntil(nextSearch$)\r\n        .map(books => new book.SearchCompleteAction(books))\r\n        .catch(() => of(new book.SearchCompleteAction([])));\r\n    });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/effects/book.ts","import 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/startWith';\r\nimport 'rxjs/add/operator/switchMap';\r\nimport 'rxjs/add/operator/mergeMap';\r\nimport 'rxjs/add/operator/toArray';\r\nimport { Injectable } from '@angular/core';\r\nimport { Action } from '@ngrx/store';\r\nimport { Effect, Actions } from '@ngrx/effects';\r\nimport { Database } from '@ngrx/db';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { defer } from 'rxjs/observable/defer';\r\nimport { of } from 'rxjs/observable/of';\r\n\r\nimport * as collection from '../actions/collection';\r\nimport { Book } from '../models/book';\r\n\r\n\r\n@Injectable()\r\nexport class CollectionEffects {\r\n  constructor(private actions$: Actions, private db: Database) { }\r\n\r\n  /**\r\n   * This effect does not yield any actions back to the store. Set\r\n   * `dispatch` to false to hint to @ngrx/effects that it should\r\n   * ignore any elements of this effect stream.\r\n   * \r\n   * The `defer` observable accepts an observable factory function\r\n   * that is called when the observable is subscribed to.\r\n   * Wrapping the database open call in `defer` makes\r\n   * effect easier to test.\r\n   */\r\n  @Effect({ dispatch: false })\r\n  openDB$: Observable<any> = defer(() => {\r\n    return this.db.open('books_app');\r\n  });\r\n\r\n  /**\r\n   * This effect makes use of the `startWith` operator to trigger\r\n   * the effect immediately on startup.\r\n   */\r\n  @Effect()\r\n  loadCollection$: Observable<Action> = this.actions$\r\n    .ofType(collection.ActionTypes.LOAD)\r\n    .startWith(new collection.LoadAction())\r\n    .switchMap(() =>\r\n      this.db.query('books')\r\n        .toArray()\r\n        .map((books: Book[]) => new collection.LoadSuccessAction(books))\r\n        .catch(error => of(new collection.LoadFailAction(error)))\r\n    );\r\n\r\n  @Effect()\r\n  addBookToCollection$: Observable<Action> = this.actions$\r\n    .ofType(collection.ActionTypes.ADD_BOOK)\r\n    .map((action: collection.AddBookAction) => action.payload)\r\n    .mergeMap(book =>\r\n      this.db.insert('books', [ book ])\r\n        .map(() => new collection.AddBookSuccessAction(book))\r\n        .catch(() => of(new collection.AddBookFailAction(book)))\r\n    );\r\n\r\n\r\n  @Effect()\r\n  removeBookFromCollection$: Observable<Action> = this.actions$\r\n    .ofType(collection.ActionTypes.REMOVE_BOOK)\r\n    .map((action: collection.RemoveBookAction) => action.payload)\r\n    .mergeMap(book =>\r\n      this.db.executeWrite('books', 'delete', [ book.id ])\r\n        .map(() => new collection.RemoveBookSuccessAction(book))\r\n        .catch(() => of(new collection.RemoveBookFailAction(book)))\r\n    );\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/effects/collection.ts","import { Pipe } from '@angular/core';\r\n\r\n\r\n@Pipe({ name: 'bcAddCommas' })\r\nexport class AddCommasPipe {\r\n  transform(authors: null | string[]) {\r\n    if (!authors) return 'Author Unknown';\r\n\r\n    switch (authors.length) {\r\n      case 0:\r\n        return 'Author Unknown';\r\n      case 1:\r\n        return authors[0];\r\n      case 2:\r\n        return authors.join(' and ');\r\n      default:\r\n        const last = authors[authors.length - 1];\r\n        const remaining = authors.slice(0, -1);\r\n        return `${remaining.join(', ')}, and ${last}`;\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pipes/add-commas.ts","import { Pipe } from '@angular/core';\r\n\r\n\r\n@Pipe({ name: 'bcEllipsis' })\r\nexport class EllipsisPipe {\r\n  transform(str: string) {\r\n    const withoutHtml = str.replace(/(<([^>]+)>)/ig, '');\r\n\r\n    if (str.length >= 250) {\r\n      return withoutHtml.slice(0, 250) + '...';\r\n    }\r\n\r\n    return withoutHtml;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pipes/ellipsis.ts","import { NgModule } from '@angular/core';\r\n\r\nimport { AddCommasPipe } from './add-commas';\r\nimport { EllipsisPipe } from './ellipsis';\r\n\r\n\r\nexport const PIPES = [\r\n  AddCommasPipe,\r\n  EllipsisPipe,\r\n];\r\n\r\n@NgModule({\r\n  declarations: PIPES,\r\n  exports: PIPES\r\n})\r\nexport class PipesModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/app/pipes/index.ts","import { createSelector } from 'reselect';\r\nimport { Book } from '../models/book';\r\nimport * as book from '../actions/book';\r\nimport * as collection from '../actions/collection';\r\n\r\n\r\nexport interface State {\r\n  ids: string[];\r\n  entities: { [id: string]: Book };\r\n  selectedBookId: string | null;\r\n};\r\n\r\nconst initialState: State = {\r\n  ids: [],\r\n  entities: {},\r\n  selectedBookId: null,\r\n};\r\n\r\nexport function reducer(state = initialState, action: book.Actions | collection.Actions): State {\r\n  switch (action.type) {\r\n    case book.ActionTypes.SEARCH_COMPLETE:\r\n    case collection.ActionTypes.LOAD_SUCCESS: {\r\n      const books = action.payload;\r\n      const newBooks = books.filter(book => !state.entities[book.id]);\r\n\r\n      const newBookIds = newBooks.map(book => book.id);\r\n      const newBookEntities = newBooks.reduce((entities: { [id: string]: Book }, book: Book) => {\r\n        return Object.assign(entities, {\r\n          [book.id]: book\r\n        });\r\n      }, {});\r\n\r\n      return {\r\n        ids: [ ...state.ids, ...newBookIds ],\r\n        entities: Object.assign({}, state.entities, newBookEntities),\r\n        selectedBookId: state.selectedBookId\r\n      };\r\n    }\r\n\r\n    case book.ActionTypes.LOAD: {\r\n      const book = action.payload;\r\n\r\n      if (state.ids.indexOf(book.id) > -1) {\r\n        return state;\r\n      }\r\n\r\n      return {\r\n        ids: [ ...state.ids, book.id ],\r\n        entities: Object.assign({}, state.entities, {\r\n          [book.id]: book\r\n        }),\r\n        selectedBookId: state.selectedBookId\r\n      };\r\n    }\r\n\r\n    case book.ActionTypes.SELECT: {\r\n      return {\r\n        ids: state.ids,\r\n        entities: state.entities,\r\n        selectedBookId: action.payload\r\n      };\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Because the data structure is defined within the reducer it is optimal to\r\n * locate our selector functions at this level. If store is to be thought of\r\n * as a database, and reducers the tables, selectors can be considered the\r\n * queries into said database. Remember to keep your selectors small and\r\n * focused so they can be combined and composed to fit each particular\r\n * use-case.\r\n */\r\n\r\nexport const getEntities = (state: State) => state.entities;\r\n\r\nexport const getIds = (state: State) => state.ids;\r\n\r\nexport const getSelectedId = (state: State) => state.selectedBookId;\r\n\r\nexport const getSelected = createSelector(getEntities, getSelectedId, (entities, selectedId) => {\r\n  return entities[selectedId];\r\n});\r\n\r\nexport const getAll = createSelector(getEntities, getIds, (entities, ids) => {\r\n  return ids.map(id => entities[id]);\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/app/reducers/books.ts","import { createSelector } from 'reselect';\r\nimport * as collection from '../actions/collection';\r\n\r\n\r\nexport interface State {\r\n  loaded: boolean;\r\n  loading: boolean;\r\n  ids: string[];\r\n};\r\n\r\nconst initialState: State = {\r\n  loaded: false,\r\n  loading: false,\r\n  ids: []\r\n};\r\n\r\nexport function reducer(state = initialState, action: collection.Actions): State {\r\n  switch (action.type) {\r\n    case collection.ActionTypes.LOAD: {\r\n      return Object.assign({}, state, {\r\n        loading: true\r\n      });\r\n    }\r\n\r\n    case collection.ActionTypes.LOAD_SUCCESS: {\r\n      const books = action.payload;\r\n\r\n      return {\r\n        loaded: true,\r\n        loading: false,\r\n        ids: books.map(book => book.id)\r\n      };\r\n    }\r\n\r\n    case collection.ActionTypes.ADD_BOOK_SUCCESS:\r\n    case collection.ActionTypes.REMOVE_BOOK_FAIL: {\r\n      const book = action.payload;\r\n\r\n      if (state.ids.indexOf(book.id) > -1) {\r\n        return state;\r\n      }\r\n\r\n      return Object.assign({}, state, {\r\n        ids: [ ...state.ids, book.id ]\r\n      });\r\n    }\r\n\r\n    case collection.ActionTypes.REMOVE_BOOK_SUCCESS:\r\n    case collection.ActionTypes.ADD_BOOK_FAIL: {\r\n      const book = action.payload;\r\n\r\n      return Object.assign({}, state, {\r\n        ids: state.ids.filter(id => id !== book.id)\r\n      });\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const getLoaded = (state: State) => state.loaded;\r\n\r\nexport const getLoading = (state: State) => state.loading;\r\n\r\nexport const getIds = (state: State) => state.ids;\n\n\n// WEBPACK FOOTER //\n// ./src/app/reducers/collection.ts","import { createSelector } from 'reselect';\r\nimport * as layout from '../actions/layout';\r\n\r\n\r\nexport interface State {\r\n  showSidenav: boolean;\r\n}\r\n\r\nconst initialState: State = {\r\n  showSidenav: false,\r\n};\r\n\r\nexport function reducer(state = initialState, action: layout.Actions): State {\r\n  switch (action.type) {\r\n    case layout.ActionTypes.CLOSE_SIDENAV:\r\n      return {\r\n        showSidenav: false\r\n      };\r\n\r\n    case layout.ActionTypes.OPEN_SIDENAV:\r\n      return {\r\n        showSidenav: true\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const getShowSidenav = (state: State) => state.showSidenav;\n\n\n// WEBPACK FOOTER //\n// ./src/app/reducers/layout.ts","import { createSelector } from 'reselect';\r\nimport * as book from '../actions/book';\r\n\r\n\r\nexport interface State {\r\n  ids: string[];\r\n  loading: boolean;\r\n  query: string;\r\n};\r\n\r\nconst initialState: State = {\r\n  ids: [],\r\n  loading: false,\r\n  query: ''\r\n};\r\n\r\nexport function reducer(state = initialState, action: book.Actions): State {\r\n  switch (action.type) {\r\n    case book.ActionTypes.SEARCH: {\r\n      const query = action.payload;\r\n\r\n      if (query === '') {\r\n        return {\r\n          ids: [],\r\n          loading: false,\r\n          query\r\n        };\r\n      }\r\n\r\n      return Object.assign({}, state, {\r\n        query,\r\n        loading: true\r\n      });\r\n    }\r\n\r\n    case book.ActionTypes.SEARCH_COMPLETE: {\r\n      const books = action.payload;\r\n\r\n      return {\r\n        ids: books.map(book => book.id),\r\n        loading: false,\r\n        query: state.query\r\n      };\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const getIds = (state: State) => state.ids;\r\n\r\nexport const getQuery = (state: State) => state.query;\r\n\r\nexport const getLoading = (state: State) => state.loading;\n\n\n// WEBPACK FOOTER //\n// ./src/app/reducers/search.ts","import { Routes } from '@angular/router';\r\nimport { BookExistsGuard } from './guards/book-exists';\r\nimport { FindBookPageComponent } from './containers/find-book-page';\r\nimport { ResumeComponent } from './containers/resume/resume.component';\r\nimport { DetailsComponent } from './containers/details/details.component';\r\nimport { NotFoundPageComponent } from './containers/not-found-page';\r\nimport { ViewBookPageComponent } from './containers/view-book-page';\r\nimport { CollectionPageComponent } from './containers/collection-page';\r\n\r\nexport const routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CollectionPageComponent\r\n  },\r\n  {\r\n    path: 'project/find',\r\n    component: FindBookPageComponent\r\n  },\r\n  {\r\n    path: 'resume',\r\n    component: ResumeComponent\r\n  },\r\n  {\r\n    path: 'details',\r\n    component: DetailsComponent\r\n  },\r\n  {\r\n    path: 'book/:id',\r\n    canActivate: [ BookExistsGuard ],\r\n    component: ViewBookPageComponent\r\n  },\r\n  {\r\n    path: '**',\r\n    component: NotFoundPageComponent\r\n  }\r\n];\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/routes.ts","// This file includes polyfills needed by Angular 2 and is loaded before\r\n// the app. You can add your own extra polyfills to this file.\r\nimport 'core-js/es6/symbol';\r\nimport 'core-js/es6/object';\r\nimport 'core-js/es6/function';\r\nimport 'core-js/es6/parse-int';\r\nimport 'core-js/es6/parse-float';\r\nimport 'core-js/es6/number';\r\nimport 'core-js/es6/math';\r\nimport 'core-js/es6/string';\r\nimport 'core-js/es6/date';\r\nimport 'core-js/es6/array';\r\nimport 'core-js/es6/regexp';\r\nimport 'core-js/es6/map';\r\nimport 'core-js/es6/set';\r\nimport 'core-js/es6/reflect';\r\n\r\nimport 'core-js/es7/reflect';\r\nimport 'zone.js/dist/zone';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/polyfills.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/containers/details/details.component.css\n// module id = 891\n// module chunks = 0","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/containers/resume/resume.component.css\n// module id = 892\n// module chunks = 0","module.exports = \"<p>\\n  details works!\\n</p>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/containers/details/details.component.html\n// module id = 893\n// module chunks = 0","module.exports = \"<p>\\n  resume works!\\n</p>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/containers/resume/resume.component.html\n// module id = 894\n// module chunks = 0","import { Action } from '@ngrx/store';\r\nimport { Book } from '../models/book';\r\nimport { type } from '../util';\r\n\r\n/**\r\n * For each action type in an action group, make a simple\r\n * enum object for all of this group's action types.\r\n * \r\n * The 'type' utility function coerces strings into string\r\n * literal types and runs a simple check to guarantee all\r\n * action types in the application are unique. \r\n */\r\nexport const ActionTypes = {\r\n  SEARCH:           type('[Book] Search'),\r\n  SEARCH_COMPLETE:  type('[Book] Search Complete'),\r\n  LOAD:             type('[Book] Load'),\r\n  SELECT:           type('[Book] Select'),\r\n};\r\n\r\n\r\n/**\r\n * Every action is comprised of at least a type and an optional\r\n * payload. Expressing actions as classes enables powerful \r\n * type checking in reducer functions.\r\n * \r\n * See Discriminated Unions: https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\r\n */\r\nexport class SearchAction implements Action {\r\n  type = ActionTypes.SEARCH;\r\n\r\n  constructor(public payload: string) { }\r\n}\r\n\r\nexport class SearchCompleteAction implements Action {\r\n  type = ActionTypes.SEARCH_COMPLETE;\r\n\r\n  constructor(public payload: Book[]) { }\r\n}\r\n\r\nexport class LoadAction implements Action {\r\n  type = ActionTypes.LOAD;\r\n\r\n  constructor(public payload: Book) { }\r\n}\r\n\r\nexport class SelectAction implements Action {\r\n  type = ActionTypes.SELECT;\r\n\r\n  constructor(public payload: string) { }\r\n}\r\n\r\n/**\r\n * Export a type alias of all actions in this action group\r\n * so that reducers can easily compose action types\r\n */\r\nexport type Actions\r\n  = SearchAction\r\n  | SearchCompleteAction\r\n  | LoadAction\r\n  | SelectAction;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/actions/book.ts","import { createSelector } from 'reselect';\r\nimport { ActionReducer } from '@ngrx/store';\r\nimport * as fromRouter from '@ngrx/router-store';\r\nimport { environment } from '../../environments/environment';\r\n\r\n/**\r\n * The compose function is one of our most handy tools. In basic terms, you give\r\n * it any number of functions and it returns a function. This new function\r\n * takes a value and chains it through every composed function, returning\r\n * the output.\r\n *\r\n * More: https://drboolean.gitbooks.io/mostly-adequate-guide/content/ch5.html\r\n */\r\nimport { compose } from '@ngrx/core/compose';\r\n\r\n/**\r\n * storeFreeze prevents state from being mutated. When mutation occurs, an\r\n * exception will be thrown. This is useful during development mode to\r\n * ensure that none of the reducers accidentally mutates the state.\r\n */\r\nimport { storeFreeze } from 'ngrx-store-freeze';\r\n\r\n/**\r\n * combineReducers is another useful metareducer that takes a map of reducer\r\n * functions and creates a new reducer that stores the gathers the values\r\n * of each reducer and stores them using the reducer's key. Think of it\r\n * almost like a database, where every reducer is a table in the db.\r\n *\r\n * More: https://egghead.io/lessons/javascript-redux-implementing-combinereducers-from-scratch\r\n */\r\nimport { combineReducers } from '@ngrx/store';\r\n\r\n\r\n/**\r\n * Every reducer module's default export is the reducer function itself. In\r\n * addition, each module should export a type or interface that describes\r\n * the state of the reducer plus any selector functions. The `* as`\r\n * notation packages up all of the exports into a single object.\r\n */\r\nimport * as fromSearch from './search';\r\nimport * as fromBooks from './books';\r\nimport * as fromCollection from './collection';\r\nimport * as fromLayout from './layout';\r\n\r\n\r\n/**\r\n * As mentioned, we treat each reducer like a table in a database. This means\r\n * our top level state interface is just a map of keys to inner state types.\r\n */\r\nexport interface State {\r\n  search: fromSearch.State;\r\n  books: fromBooks.State;\r\n  collection: fromCollection.State;\r\n  layout: fromLayout.State;\r\n  router: fromRouter.RouterState;\r\n}\r\n\r\n\r\n/**\r\n * Because metareducers take a reducer function and return a new reducer,\r\n * we can use our compose helper to chain them together. Here we are\r\n * using combineReducers to make our top level reducer, and then\r\n * wrapping that in storeLogger. Remember that compose applies\r\n * the result from right to left.\r\n */\r\nconst reducers = {\r\n  search: fromSearch.reducer,\r\n  books: fromBooks.reducer,\r\n  collection: fromCollection.reducer,\r\n  layout: fromLayout.reducer,\r\n  router: fromRouter.routerReducer,\r\n};\r\n\r\nconst developmentReducer: ActionReducer<State> = compose(storeFreeze, combineReducers)(reducers);\r\nconst productionReducer: ActionReducer<State> = combineReducers(reducers);\r\n\r\nexport function reducer(state: any, action: any) {\r\n  if (environment.production) {\r\n    return productionReducer(state, action);\r\n  }\r\n  else {\r\n    return developmentReducer(state, action);\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * A selector function is a map function factory. We pass it parameters and it\r\n * returns a function that maps from the larger state tree into a smaller\r\n * piece of state. This selector simply selects the `books` state.\r\n *\r\n * Selectors are used with the `select` operator.\r\n *\r\n * ```ts\r\n * class MyComponent {\r\n * \tconstructor(state$: Observable<State>) {\r\n * \t  this.booksState$ = state$.select(getBooksState);\r\n * \t}\r\n * }\r\n * ```\r\n */\r\nexport const getBooksState = (state: State) => state.books;\r\n\r\n/**\r\n * Every reducer module exports selector functions, however child reducers\r\n * have no knowledge of the overall state tree. To make them useable, we\r\n * need to make new selectors that wrap them.\r\n *\r\n * Once again our compose function comes in handy. From right to left, we\r\n * first select the books state then we pass the state to the book\r\n * reducer's getBooks selector, finally returning an observable\r\n * of search results.\r\n *\r\n * Share memoizes the selector functions and publishes the result. This means\r\n * every time you call the selector, you will get back the same result\r\n * observable. Each subscription to the resultant observable\r\n * is shared across all subscribers.\r\n */\r\n export const getBookEntities = createSelector(getBooksState, fromBooks.getEntities);\r\n export const getBookIds = createSelector(getBooksState, fromBooks.getIds);\r\n export const getSelectedBookId = createSelector(getBooksState, fromBooks.getSelectedId);\r\n export const getSelectedBook = createSelector(getBooksState, fromBooks.getSelected);\r\n\r\n\r\n/**\r\n * Just like with the books selectors, we also have to compose the search\r\n * reducer's and collection reducer's selectors.\r\n */\r\nexport const getSearchState = (state: State) => state.search;\r\n\r\nexport const getSearchBookIds = createSelector(getSearchState, fromSearch.getIds);\r\nexport const getSearchQuery = createSelector(getSearchState, fromSearch.getQuery);\r\nexport const getSearchLoading = createSelector(getSearchState, fromSearch.getLoading);\r\n\r\n\r\n/**\r\n * Some selector functions create joins across parts of state. This selector\r\n * composes the search result IDs to return an array of books in the store.\r\n */\r\nexport const getSearchResults = createSelector(getBookEntities, getSearchBookIds, (books, searchIds) => {\r\n  return searchIds.map(id => books[id]);\r\n});\r\n\r\n\r\n\r\nexport const getCollectionState = (state: State) => state.collection;\r\n\r\nexport const getCollectionLoaded = createSelector(getCollectionState, fromCollection.getLoaded);\r\nexport const getCollectionLoading = createSelector(getCollectionState, fromCollection.getLoading);\r\nexport const getCollectionBookIds = createSelector(getCollectionState, fromCollection.getIds);\r\n\r\nexport const getBookCollection = createSelector(getBookEntities, getCollectionBookIds, (entities, ids) => {\r\n  return ids.map(id => entities[id]);\r\n});\r\n\r\nexport const isSelectedBookInCollection = createSelector(getCollectionBookIds, getSelectedBookId, (ids, selected) => {\r\n  return ids.indexOf(selected) > -1;\r\n});\r\n\r\n/**\r\n * Layout Reducers\r\n */\r\nexport const getLayoutState = (state: State) => state.layout;\r\n\r\nexport const getShowSidenav = createSelector(getLayoutState, fromLayout.getShowSidenav);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/reducers/index.ts"],"sourceRoot":""}